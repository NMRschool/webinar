<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Registro — Webinar NMR School</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{background:#0f1113;color:#e9eef2;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif}
    .card{background:linear-gradient(180deg,#1a2024,#0f1113);border:1px solid #caccce;border-radius:14px}
    .muted{color:#eff2f3}
    .brand{background:#ffffff;padding:10px 14px;border-radius:12px;display:inline-block}
    .form-control, .form-select{background:#12161a!important;border-color:#eef1f3!important;color:#e9eef2!important}
    .form-control::placeholder{color:#e0e5e7!important;opacity:1}
    .btn-primary{background:#21c7e4;border-color:#21c7e4;color:#d1d8db;font-weight:700}
    .badge-pill{background:#21c7e4;color:#e2e7eb;border-radius:999px;padding:6px 10px;font-weight:700}
  </style>
</head>
<body>
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-lg-8">
        <div class="text-center mb-4">
          <span class="brand">
            <img src="https://raw.githubusercontent.com/kloudpaper/nmrschool/main/ISOLOGO%20NEGRO.png" width="140" alt="LatAm NMR School">
          </span>
        </div>

        <div class="card shadow">
          <div class="card-body p-4 p-md-5">
            <div class="d-flex align-items-center justify-content-between mb-3">
              <h1 class="h4 mb-0" style="color: #e5eaeb;">Registro al Webinar</h1>
              <span class="badge-pill">NOV&nbsp;26 · 10:00&nbsp;AM</span>
            </div>
            <p class="muted mb-4">
              <strong>Tema:</strong> El  Arte del Desacoplamiento en RMN &nbsp;·&nbsp;
              <strong>Ponente:</strong> Dr. Adolfo Botana (JEOL)
            </p>

            <form id="regForm" class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Nombre</label>
                  <input required type="text" name="firstName" class="form-control" placeholder="Tu nombre">
                </div>
                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Apellidos</label>
                  <input required type="text" name="lastName" class="form-control" placeholder="Tus apellidos">
                </div>

                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Organización</label>
                  <select required name="orgType" class="form-select">
                    <option value="" selected disabled>Selecciona una opción</option>
                    <option>Académica</option>
                    <option>Gobierno</option>
                    <option>Empresa</option>
                  </select>
                </div>
                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Nombre del Instituto / Empresa</label>
                  <input required type="text" name="orgName" class="form-control" placeholder="Ej. Universidad, Centro, Compañía">
                </div>

                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Puesto</label>
                  <input required type="text" name="role" class="form-control" placeholder="Ej. Investigador/a, Estudiante, Gerente">
                </div>
                <div class="col-md-6">
                  <label class="form-label"style="color: #e5eaeb;">Correo</label>
                  <input required type="email" name="email" class="form-control" placeholder="tucorreo@dominio.com">
                </div>

                <div class="col-md-6">
                  <label class="form-label" style="color: #e5eaeb;">Teléfono (opcional)</label>
                  <input type="tel" name="phone" class="form-control" placeholder="+52 ...">
                </div>
                <div class="col-md-6 d-flex align-items-end">
                  <div class="form-check" style="color: #e5eaeb;">
                    <input class="form-check-input" type="checkbox" id="moreInfo" name="moreInfo">
                    <label class="form-check-label" for="moreInfo">Deseo recibir más información</label>
                  </div>
                </div>
              </div>

              <button class="btn btn-primary w-100 mt-4" type="submit">Enviar registro</button>
              <p id="status" class="mt-3"></p>
            </form>

            <hr class="my-4 border-secondary"/>
            <p class="small muted mb-0">
              Tras completar el registro, <strong>una invitación se te ha enviado</strong> con el enlace de Zoom y un archivo .ics para tu calendario.
              También puedes seguir las novedades en <a class="link-light" href="https://linktr.ee/NMRschool" target="_blank">linktr.ee/NMRschool</a>.
            </p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
  (function(){
    const form = document.getElementById('regForm');
    const statusEl = document.getElementById('status');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.textContent = 'Enviando…';

      // Construye el payload (puedes adaptar nombres de campos a tu backend)
      const data = Object.fromEntries(new FormData(form).entries());

      try {
        // Ajusta la URL de tu API aquí:
        const resp = await fetch('https://nmrschool-webinar.onrender.com/nmrschool/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(data)
        });

        if(!resp.ok) throw new Error('Error de red');
        const json = await resp.json();

        statusEl.textContent = 'Registro recibido. Una invitación se te ha enviado.';
        statusEl.className = 'text-success';
        form.reset();
      } catch (err) {
        statusEl.textContent = 'No pudimos registrar tu solicitud. Intenta de nuevo.';
        statusEl.className = 'text-danger';
      }
    }, false);
  })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
